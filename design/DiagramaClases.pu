@startuml Diagrama clases Mercado
set separator none
allow_mixing
left to right direction
package es.etg.programacion.mercadaw{
    package model{
        package mercado{
            class Supermercado{
                    -provincia: String
                    -municipio: String
            }       

            
            class Cliente{
                -codigoPostal: int
                -correoElectronico: String
                -nombre: String
                -fechaCompra: String
            }
            
            
            class MercadoFactory{
                +{static}crearProducto(c: Categoria): IProducto
                +{static}crearTrabajador(trab: Trabajador): IEmpleado
            }
            interface Gestionable{
                +darAltaEmpleado(nombre: String, apellido:String, categoria: Trabajador): IEmpleado
                +darAltaProducto(producto: Producto): IProducto
                +obtenerEmpleados(): List<Empleado>
                +obtenerProducto(): List<Producto>

            }
        }
        package producto{
            abstract Producto{
                -nombre: String
                -marca: String
                -precioEnEuros: double
                -alturaEnMetros: double
                -anchuraEnMetros: double
                -pesoEnKg: double
                -numElementos: int
                -descripcion: String
                -iva: Categoria
                -categoria: String
                +toString(): String
                +imprimirEtiqueta(): String
                +build(): ProductoBuilder
            }

            interface IProducto{
                +calcularPrecio(): Double[]
                +imprimirInfoPrecio(p: Double[])
            }
                
            class Alimentacion{
                -iva: IVA = ALIMENTACION
            }
            class Drogueria{
                -iva: IVA = DROGUERIA
            }

            class Cosmetica{
                -iva: IVA = COSMETICA
            }
            enum Categoria{
                ALIMENTACION(0.04)
                DROGUERIA(0.10)tipo
                COSMETICA(0.21)

            }
            class ProductoBuilder{
                -nombre: String
                -marca: String
                -precioEnEuros: double
                -alturaEnMetros: double
                -anchuraEnMetros: double
                -pesoEnKg: double
                -numElementos: int
                -descripcion: String
                -iva: Categoria
                -categoria: String
                +setNombre(nombre:String): ProductoBuilder
                +setMarca(marca:String): ProductoBuilder
                +setPrecioEnEuros(precio: double): ProductoBuilder
                +setAlturaEnMetros(altura: double): ProductoBuilder
                +setA nchuraEnMetros(anchura: double): ProductoBuilder
                +setPesoEnKg(peso: double): ProductoBuilder
                +setNumElementos(elementos:int): ProductoBuilder
                +setDescripcion(descripcion: String): ProductoBuilder
                +setIVA(iva:Trabajador): ProductoBuilder
                +setCategoria(categoria:Trabajador): ProductoBuilder
                +build(): Producto
            }
        }
        package trabajador{
            class Empleado{
                -{static} id: int
                -nombre: String
                -apellido: String
                -salario: Salario = STANDARD
                -categoria: String
            }
            class Reponedor{
                -salario: Salario = REPONEDOR
            }
            class Cajero{
                -salario: Salario = CAJERO
            }
            class Encargado{
                -salario: Salario = Encargado
            }

            interface IEmpleado{
                +calcularNomina():Nomina
                +toString(): String
            }
            enum Trabajador {
                REPONEDOR(1200)
                CAJERO(1300)
                ENCARGADO(1500)
                STANDARD(1000)
                +getSalario()
            }
            }
        
        package util{
            interface Documento{
                +getContenido():Map<String,String>
                +getTitulo():String
                +getPie():String
            }
        package print{
            class Impresora{
                +imprimir(fichero:String)
            }
            }
        package writer{
            class WriterMarkDown{
                +{static}escribir(contratable:IEmpleado)
                +{static}escribir(doc:Documento)
                +{static}escribirEtiqueta(Producto)
                +{static}escribir(docs:List<Documento>)
                }
            }
        package reader{
            interface Lector{
                +leer(fichero:String)
            }
            class LectorXML{
                +leer(fichero:String)
            }
            class LectorSQL{
                +leer(fichero:String)
            }
                Lector <|.. LectorXML
                Lector <|.. LectorSQL
            }
        Documento <|.. Producto
        Documento <|.. Empleado
        }
        package dao{
            interface MercadoDAO{
                +crearTablaEmpleados(): void
                +crearTablaProductos(): void
                +crearTa

                +listarEmpleados(): list<Empleado>
                +listarProductos(): list<Producto>


            }
            class MercadoMariadbDAOImp{
                -connection: Connection
            }
            class MercadoMockDAOImp{

            }
            enum Modo{
                MOCK, MARIADB
            }
        
        MercadoDAO <|.. MercadoMariadbDAOImp
        MercadoDAO <|.. MercadoMockDAOImp
        }
         
    }
} 
component "org.mariadb.jdbc"<<jdbc driver>> 

"org.mariadb.jdbc" <.. MercadoMariadbDAOImp




Supermercado o-- Producto
Supermercado o-- Empleado
Supermercado o-- Cliente
IProducto <|.. Producto
Producto <|-- Alimentacion
Producto <|-- Drogueria
Producto <|-- Cosmetica
Empleado <|-- Reponedor
Empleado <|-- Cajero
Empleado <|-- Encargado
Gestionable <|.. Supermercado
IEmpleado <|.. Empleado


@enduml

@startuml Diagrama clases lector
set separator none
package es.etg.daw{

}

@enduml
